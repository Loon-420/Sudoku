<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku Master</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/JogodaForca/manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Sudoku Master">
    <link rel="apple-touch-icon" href="/JogodaForca/icons/icon-192x192.png">
    <meta name="theme-color" content="#4CAF50">
    <meta name="description" content="Jogo de Sudoku com mais de 100 níveis diferentes e múltiplas dificuldades">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Sudoku Master">
    <meta property="og:description" content="Jogo de Sudoku com mais de 100 níveis diferentes">
    <meta property="og:type" content="game">
    <meta property="og:image" content="/JogodaForca/icons/icon-512x512.png">
</head>
<body data-theme="padrao">
    <header class="cor-principal-fundo">
        <h1><i class="fas fa-th"></i> Sudoku Master</h1>
    </header>

    <main class="container">
        <!-- Seção Inicial -->
        <section id="secaoInicio" class="secao-card">
            <h2>Bem-vindo(a) ao Sudoku Master!</h2>
            <div class="bloco-personalizacao">
                <label for="nomeJogador">Seu Nome:</label>
                <input type="text" id="nomeJogador" class="input-personalizado" placeholder="Digite seu nome" value="">
            </div>
            
            <button id="btnIniciarJogo" class="btn-primary">
                <i class="fas fa-play"></i> Iniciar Jogo
            </button>
            <button id="btnConfig" class="btn-secondary">
                <i class="fas fa-cog"></i> Configurações
            </button>
            <button id="btnPersonalizar" class="btn-secondary">
                <i class="fas fa-palette"></i> Personalizar
            </button>
            <button id="btnEstatisticas" class="btn-secondary">
                <i class="fas fa-chart-bar"></i> Estatísticas
            </button>
        </section>

        <!-- Seção Configurações -->
        <section id="secaoConfig" class="secao-card" style="display:none;">
            <h2><i class="fas fa-cog"></i> Configurações do Jogo</h2>
            <div class="bloco-personalizacao">
                <label for="selectDificuldade">Dificuldade:</label>
                <select id="selectDificuldade" class="select-personalizado">
                    <option value="facil">Fácil</option>
                    <option value="medio">Médio</option>
                    <option value="dificil">Difícil</option>
                    <option value="expert">Expert</option>
                </select>
            </div>
            <div class="bloco-personalizacao">
                <label for="selectNivel">Nível:</label>
                <select id="selectNivel" class="select-personalizado">
                    <!-- Os níveis serão preenchidos dinamicamente -->
                </select>
            </div>
            <button id="btnSalvarConfig" class="btn-primary">
                <i class="fas fa-save"></i> Salvar e Voltar
            </button>
            <button id="btnVoltarConfig" class="btn-secondary">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
        </section>

        <!-- Seção Personalização -->
        <section id="secaoPersonalizacao" class="secao-card" style="display:none;">
            <h2><i class="fas fa-palette"></i> Personalizar</h2>
            <div class="bloco-personalizacao">
                <label for="selectTema">Tema:</label>
                <select id="selectTema" class="select-personalizado">
                    <option value="padrao">Padrão</option>
                    <option value="escuro">Escuro</option>
                    <option value="azul">Azul</option>
                    <option value="vermelho">Vermelho</option>
                </select>
            </div>
            <button id="btnAplicarPersonalizacao" class="btn-primary">
                <i class="fas fa-check"></i> Aplicar e Voltar
            </button>
        </section>

        <!-- Seção Jogo Principal -->
        <section id="secaoJogo" class="secao-card" style="display:none;">
            <div class="info-jogo">
                <div>
                    <span>Jogador: <span id="nomeJogadorAtual" class="cor-principal-texto">-</span></span>
                    <span id="dificuldadeAtual" class="dificuldade-badge dificuldade-facil">Fácil</span>
                </div>
                <div>
                    <span><i class="fas fa-clock"></i> Tempo: <span id="tempoJogo">00:00</span></span>
                </div>
                <div>
                    <span><i class="fas fa-layer-group"></i> Nível: <span id="nivelAtual">1</span>/<span id="totalNiveis">100</span></span>
                </div>
            </div>

            <div id="tabuleiroSudoku" class="tabuleiro-sudoku">
                <!-- O tabuleiro será gerado dinamicamente -->
            </div>

            <div class="controles-jogo">
                <button id="btnVerificar" data-tooltip="Verificar erros">
                    <i class="fas fa-check"></i> Verificar
                </button>
                <button id="btnDica" data-tooltip="Receber uma dica">
                    <i class="fas fa-lightbulb"></i> Dica
                </button>
                <button id="btnResolver" data-tooltip="Resolver automaticamente">
                    <i class="fas fa-bolt"></i> Resolver
                </button>
                <button id="btnReiniciar" data-tooltip="Reiniciar nível">
                    <i class="fas fa-redo"></i> Reiniciar
                </button>
                <button id="btnNovoJogo" data-tooltip="Novo jogo">
                    <i class="fas fa-plus"></i> Novo Jogo
                </button>
            </div>

            <div class="numeros-jogo">
                <!-- Os botões de números serão gerados dinamicamente -->
            </div>

            <p id="mensagemJogo" class="mensagem-status"></p>
        </section>

        <!-- Seção Estatísticas -->
        <section id="secaoEstatisticas" class="secao-card" style="display:none;">
            <h2><i class="fas fa-chart-bar"></i> Estatísticas do Jogo</h2>
            <div id="dashboardEstatisticas" class="dashboard-estatisticas">
                <div class="estatistica-card">
                    <div class="estatistica-valor" id="estatJogosCompletos">0</div>
                    <div class="estatistica-label">Jogos Completos</div>
                </div>
                <div class="estatistica-card">
                    <div class="estatistica-valor" id="estatMelhorTempo">00:00</div>
                    <div class="estatistica-label">Melhor Tempo</div>
                </div>
                <div class="estatistica-card">
                    <div class="estatistica-valor" id="estatNivelMaximo">1</div>
                    <div class="estatistica-label">Nível Máximo</div>
                </div>
                <div class="estatistica-card">
                    <div class="estatistica-valor" id="estatDicasUsadas">0</div>
                    <div class="estatistica-label">Dicas Usadas</div>
                </div>
            </div>
            <button id="btnNovoJogoEstat" class="btn-primary">
                <i class="fas fa-play"></i> Novo Jogo
            </button>
            <button id="btnVoltarEstat" class="btn-secondary">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
        </section>

        <!-- Seção Vitória -->
        <section id="secaoVitoria" class="secao-card" style="display:none;">
            <h2>Parabéns! <i class="fas fa-trophy"></i></h2>
            <p>Você completou o nível <span id="nivelCompletado" class="cor-principal-texto">1</span> com sucesso!</p>
            <div class="info-jogo">
                <div><i class="fas fa-clock"></i> Tempo: <span id="tempoCompletado" class="cor-principal-texto">00:00</span></div>
                <div><i class="fas fa-lightbulb"></i> Dicas usadas: <span id="dicasUsadasCompletado" class="cor-principal-texto">0</span></div>
            </div>
            <button id="btnProximoNivel" class="btn-primary">
                <i class="fas fa-arrow-right"></i> Próximo Nível
            </button>
            <button id="btnMenuPrincipalVitoria" class="btn-secondary">
                <i class="fas fa-home"></i> Menu Principal
            </button>
        </section>
    </main>

    <!-- Scripts -->
    <script src="app.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        // Registrar Service Worker para PWA
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/JogodaForca/sw.js')
                    .then(function(registration) {
                        console.log('ServiceWorker registrado com sucesso: ', registration.scope);
                    })
                    .catch(function(error) {
                        console.log('Falha ao registrar ServiceWorker: ', error);
                    });
            });
        }

        // Prevenir zoom em dispositivos móveis
        document.addEventListener('touchstart', function(event) {
            if (event.touches.length > 1) {
                event.preventDefault();
            }
        });

        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Prevenir menu de contexto em dispositivos móveis
        document.addEventListener('contextmenu', function(e) {
            e.preventDefault();
        }, false);
    </script>
</body>
</html>
